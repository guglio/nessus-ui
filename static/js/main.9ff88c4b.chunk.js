(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t,a){e.exports=a(310)},130:function(e,t,a){},310:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),s=a.n(o),i=(a(130),a(18)),c=a(19),l=a(21),u=a(20),m=a(22),h=a(124),d=a.n(h),f=a(23),p={ASC:"asc",DESC:"desc"},g=[{name:"Name",numeric:!1,value:"name"},{name:"Hostname",numeric:!1,value:"hostname"},{name:"Username",numeric:!1,value:"username"},{name:"Port",numeric:!0,value:"port"}],v={ERROR:"ERROR",LOADING:"LOADING",READY:"READY"},b={404:"The URL you were trying to reach could not be found on the server.",503:"The server is currently unable to handle the request due to a temporary overloading or maintenance of the server.",DEFAULT:"Unable to preceed with your request."},E=a(107),w=a.n(E),C=a(69),y=a.n(C),O=a(16),j=a.n(O),N=Object(f.withStyles)(function(e){return{root:{zIndex:e.zIndex.drawer+1}}})(function(e){var t=e.classes;return r.a.createElement(w.a,{position:"fixed",color:"primary",className:t.root},r.a.createElement(y.a,null,r.a.createElement(j.a,{variant:"title",color:"inherit"},"Nessus")))}),S=a(70),P=a.n(S),k=a(52),R=a.n(k),x=a(71),B=a.n(x),D=a(72),A=a.n(D),H=a(109),I=a.n(H),T=a(110),q=a.n(T),L=function(e){return r.a.createElement(P.a,null,r.a.createElement(R.a,{selected:"main"===e.activeView,button:!0},r.a.createElement(B.a,null,r.a.createElement(I.a,null)),r.a.createElement(A.a,{primary:"Hosts",onClick:function(){return e.handleChangeView({activeView:"main"})}})),r.a.createElement(R.a,{selected:"request"===e.activeView,button:!0},r.a.createElement(B.a,null,r.a.createElement(q.a,null)),r.a.createElement(A.a,{primary:"Request",onClick:function(){return e.handleChangeView({activeView:"request"})}})))},V=a(123),W=a.n(V),G=a(111),U=a.n(G),z=a(53),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return U()("".concat(z.APIurl).concat(e))},M=a(39),Y=a.n(M),F=a(112),J=a.n(F),Q=a(116),$=a.n(Q),K=a(114),X=a.n(K),Z=a(115),ee=a.n(Z),te=a(113),ae=a.n(te),ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.errorText,a=e.errorTitle;return r.a.createElement(J.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(ae.a,{id:"alert-dialog-title"},a),r.a.createElement(X.a,null,r.a.createElement(ee.a,{id:"alert-dialog-description"},t)),r.a.createElement($.a,null,r.a.createElement(Y.a,{onClick:this.handleClose,color:"primary",autoFocus:!0},"Close")))}}]),t}(n.Component),re=a(54),oe=a.n(re),se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSearch=function(e){a.setState({filter:e.target.value}),a.props.searchData(e.target.value)},a.state={filter:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.filter;return r.a.createElement("div",null,r.a.createElement(oe.a,{placeholder:"Search",value:t,onChange:function(t){return e.handleSearch(t)}}))}}]),t}(n.Component),ie=a(121),ce=a.n(ie),le=a(122),ue=a.n(le),me=a(31),he=a.n(me),de=a(117),fe=a.n(de),pe=a(40),ge=a.n(pe),ve=a(24),be=a.n(ve),Ee=a(119),we=a.n(Ee),Ce=a(118),ye=a.n(Ce),Oe=function(e){var t=e.sortHosts,a=e.headers,n=e.orderBy,o=e.order;return r.a.createElement(fe.a,null,r.a.createElement(ge.a,null,a.map(function(e){return r.a.createElement(be.a,{sortDirection:n===e.value&&o,numeric:e.numeric,key:e.value},r.a.createElement(ye.a,{title:"Sort ".concat(e.name),enterDelay:300},r.a.createElement(we.a,{direction:o,active:n===e.value,onClick:function(){return t(e.value)}},e.name)))})))},je=a(120),Ne=a.n(je),Se=function(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0},Pe=function(e){var t=e.data,a=e.order,n=e.orderBy,o=e.page,s=e.rowsPerPage,i=e.colNum,c=s-Math.min(s,t.length-o*s);return r.a.createElement(Ne.a,null,t.sort(function(e,t){return e===p.DESC?function(e,a){return Se(e,a,t)}:function(e,a){return-Se(e,a,t)}}(a,n)).slice(o*s,o*s+s).map(function(e,t){return r.a.createElement(ge.a,{key:t},r.a.createElement(be.a,{component:"th",scope:"row"},e.name),r.a.createElement(be.a,null,e.hostname),r.a.createElement(be.a,null,e.username),r.a.createElement(be.a,{numeric:!0},e.port))}),c>0&&r.a.createElement(ge.a,{style:{height:48*c}},r.a.createElement(be.a,{colSpan:i})))},ke=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.handleRequestSort=function(e,t){var n=t,r=p.ASC,o=p.DESC,s=o;a.state.orderBy===t&&a.state.order===o&&(s=r),a.setState({order:s,orderBy:n})},a.sortHosts=function(e){var t="",n=p.ASC,r=p.DESC;switch(a.state.order){case n:t=r;break;case r:default:t=n}a.setState({order:t,orderBy:e})},a.state={page:0,rowsPerPage:5,order:p.ASC,orderBy:g[0].value},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.hosts,n=this.state,o=n.page,s=n.rowsPerPage,i=n.order,c=n.orderBy;return r.a.createElement(he.a,{className:t.root},r.a.createElement(ce.a,{className:t.table},r.a.createElement(Oe,{sortHosts:this.sortHosts,headers:g,orderBy:c,order:i}),r.a.createElement(Pe,{data:a,order:i,orderBy:c,page:o,rowsPerPage:s,colNum:g.length})),r.a.createElement(ue.a,{component:"div",count:a.length,rowsPerPage:s,page:o,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(n.Component),Re=Object(f.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit}}})(ke),xe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).searchData=function(e){if(e&&""!==e){var t=a.state.initialHosts.filter(function(t){return Object.values(t).join("").toLowerCase().indexOf(e.toLowerCase())>-1});a.setState({hosts:t})}else a.setState({hosts:a.state.initialHosts})},a.requestHosts=function(e){a.setState({nessus_hosts:v.LOADING}),_(e).then(function(e){return a.setState({nessus_hosts:v.READY,hosts:e.data.configurations,initialHosts:e.data.configurations})}).catch(function(e){var t=e.status?e.response.status:503;a.setState({nessus_hosts:v.ERROR,error:b[t]?b[t]:b.DEFAULT})})},a.state={error:null,nessus_hosts:null,hosts:[],initialHosts:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.requestHosts(this.props.hostsNumber)}},{key:"render",value:function(){var e=v.ERROR,t=v.LOADING,a=v.READY,n=this.state,o=n.nessus_hosts,s=n.error,i=n.hosts,c=this.props.classes;return r.a.createElement("div",null,r.a.createElement(j.a,{variant:"display1",gutterBottom:!0,className:c.title},"Hosts"),r.a.createElement(se,{searchData:this.searchData}),o===a&&r.a.createElement(Re,{hosts:i}),o===t&&r.a.createElement("div",{className:c.loadingWrapper},r.a.createElement(W.a,null)),o===e&&r.a.createElement(ne,{errorText:s,errorTitle:"Oops! Something went wrong."}))}}]),t}(n.Component),Be=Object(f.withStyles)(function(e){return{loadingWrapper:{position:"absolute",top:"calc(50% - 20px)",left:"calc(50% - 20px)"},title:{marginBottom:"1em"}}})(xe),De=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({hostsNumber:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.handleChangeHosts({hostsNumber:a.state.hostsNumber,activeView:"main"})},a.handleClick=function(){a.props.handleChangeHosts({hostsNumber:a.state.hostsNumber,activeView:"main"})},a.state={hostsNumber:a.props.hostsNumber?a.props.hostsNumber:2},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.hostsNumber,a=this.props.classes;return r.a.createElement("div",null,r.a.createElement(j.a,{variant:"display1",gutterBottom:!0,className:a.title},"Request"),r.a.createElement(j.a,{component:"p",gutterBottom:!0},"Below you can change the number of host(s) to request to the server. By default the number of hosts requested are 2."),r.a.createElement(j.a,{component:"p",className:a.configList},r.a.createElement("strong",null,"Host(s) requested"),": ",t),r.a.createElement(j.a,{component:"p",className:a.configList},r.a.createElement("strong",null,"Current API url"),": ",z.APIurl,t),r.a.createElement("form",{className:a.form,noValidate:!0,autoComplete:"off",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(oe.a,{label:"Hosts number",placeholder:"Hosts",value:t,type:"number",onChange:function(t){return e.handleChange(t)}}),r.a.createElement(Y.a,{variant:"contained",onClick:function(){return e.handleClick()},className:a.button},"Request hosts")))}}]),t}(n.Component),Ae=Object(f.withStyles)(function(e){return{button:{marginLeft:"3em",marginRight:"3em"},configList:{marginBottom:"1em",marginTop:"1em"},form:{marginTop:"2em"},title:{marginBottom:"1em"}}})(De),He=Object(f.createMuiTheme)({palette:{primary:{main:"#293845",contrastText:"#fff"},secondary:{main:"#7b1fa2",contrastText:"#fff"}}}),Ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(e)},a.state={activeView:"main",hostsNumber:2},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.activeView,n=t.hostsNumber;return r.a.createElement(f.MuiThemeProvider,{theme:He},r.a.createElement("div",{className:e.nessus},r.a.createElement(N,null),r.a.createElement(d.a,{variant:"permanent",classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.toolbar}),r.a.createElement(L,{activeView:a,handleChangeView:this.handleChange})),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.toolbar}),"main"===a&&r.a.createElement(Be,{className:e.main,hostsNumber:parseInt(n,10)}),"request"===a&&r.a.createElement(Ae,{handleChangeHosts:this.handleChange,hostsNumber:parseInt(n,10)}))))}}]),t}(n.Component),Te=Object(f.withStyles)(function(e){return{nessus:{flexGrow:1,zIndex:1,overflow:"hidden",position:"relative",display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawerPaper:{position:"relative",width:240},content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,minWidth:0,minHeight:"100vh"},toolbar:e.mixins.toolbar}})(Ie),qe=(a(309),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function Le(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}s.a.render(r.a.createElement(Te,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/nessus-ui",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/nessus-ui","/service-worker.js");qe?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Le(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Le(e)})}}()},53:function(e){e.exports={APIurl:"https://nessus-ui.herokuapp.com/download/request?host="}}},[[125,1,2]]]);
//# sourceMappingURL=main.9ff88c4b.chunk.js.map